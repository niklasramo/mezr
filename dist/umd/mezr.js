!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).mezr={})}(this,(function(t){"use strict";const e=new WeakMap;function n(t){let n=e.get(t)?.deref();return n||(n=window.getComputedStyle(t,null),e.set(t,new WeakRef(n))),n}const o=!!("undefined"!=typeof window&&void 0!==window.document&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")),i={content:"content",padding:"padding",scroll:"scroll",border:"border",margin:"margin"},r={[i.content]:!1,[i.padding]:!1,[i.scroll]:!0,[i.border]:!0,[i.margin]:!0};function l(t){switch(n(t).display){case"none":return null;case"inline":case"contents":return!1;default:return!0}}function c(t){const e=n(t);if(!o){const{filter:t}=e;if(t&&"none"!==t)return!0;const{backdropFilter:n}=e;if(n&&"none"!==n)return!0;const{willChange:o}=e;if(o&&(o.indexOf("filter")>-1||o.indexOf("backdrop-filter")>-1))return!0}const i=l(t);if(!i)return i;const{transform:r}=e;if(r&&"none"!==r)return!0;const{perspective:c}=e;if(c&&"none"!==c)return!0;const{contentVisibility:a}=e;if(a&&"auto"===a)return!0;const{contain:f}=e;if(f&&("strict"===f||"content"===f||f.indexOf("paint")>-1||f.indexOf("layout")>-1))return!0;const{willChange:u}=e;return!(!u||!(u.indexOf("transform")>-1||u.indexOf("perspective")>-1||u.indexOf("contain")>-1))||!!(o&&u&&u.indexOf("filter")>-1)}function a(t){return"static"!==n(t).position||c(t)}function f(t){return t instanceof HTMLHtmlElement}function u(t,e={}){if(f(t))return t.ownerDocument.defaultView;const o=e.position||n(t).position,{skipDisplayNone:i}=e;switch(o){case"static":case"relative":case"sticky":case"-webkit-sticky":{let e=t.parentElement;for(;e;){const t=l(e);if(t)return e;if(null===t&&!i)return null;e=e.parentElement}return t.ownerDocument.documentElement}case"absolute":case"fixed":{const e="fixed"===o;let n=t.parentElement;for(;n;){const t=e?c(n):a(n);if(!0===t)return n;if(null===t&&!i)return null;n=n.parentElement}return t.ownerDocument.defaultView}default:return null}}function s(t,e,n,o){return Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2))}function d(t){return t instanceof Window}function p(t){return t instanceof Document}function h(t,e=i.border){return d(t)?function(t,e=!1){return e?t.innerWidth:t.document.documentElement.clientWidth}(t,r[e]):p(t)?function(t,e=!1){if(e){const e=t.defaultView,n=e?e.innerWidth-t.documentElement.clientWidth:0;return Math.max(t.documentElement.scrollWidth+n,t.body.scrollWidth+n,e?e.innerWidth:0)}return Math.max(t.documentElement.scrollWidth,t.body.scrollWidth,t.documentElement.clientWidth)}(t,r[e]):function(t,e=i.border){let{width:o}=t.getBoundingClientRect();if(e===i.border)return o;const r=n(t);if(e===i.margin)return o+=Math.max(0,parseFloat(r.marginLeft)||0),o+=Math.max(0,parseFloat(r.marginRight)||0),o;if(o-=parseFloat(r.borderLeftWidth)||0,o-=parseFloat(r.borderRightWidth)||0,e===i.scroll)return o;if(f(t)){const e=t.ownerDocument,n=e.defaultView;n&&(o-=n.innerWidth-e.documentElement.clientWidth)}else{const e=Math.round(o)-t.clientWidth;e>0&&(o-=e)}return e===i.padding||(o-=parseFloat(r.paddingLeft)||0,o-=parseFloat(r.paddingRight)||0),o}(t,e)}function g(t,e=i.border){return d(t)?function(t,e=!1){return e?t.innerHeight:t.document.documentElement.clientHeight}(t,r[e]):p(t)?function(t,e=!1){if(e){const e=t.defaultView,n=e?e.innerHeight-t.documentElement.clientHeight:0;return Math.max(t.documentElement.scrollHeight+n,t.body.scrollHeight+n,e?e.innerHeight:0)}return Math.max(t.documentElement.scrollHeight,t.body.scrollHeight,t.documentElement.clientHeight)}(t,r[e]):function(t,e=i.border){let{height:o}=t.getBoundingClientRect();if(e===i.border)return o;const r=n(t);if(e===i.margin)return o+=Math.max(0,parseFloat(r.marginTop)||0),o+=Math.max(0,parseFloat(r.marginBottom)||0),o;if(o-=parseFloat(r.borderTopWidth)||0,o-=parseFloat(r.borderBottomWidth)||0,e===i.scroll)return o;if(f(t)){const e=t.ownerDocument,n=e.defaultView;n&&(o-=n.innerHeight-e.documentElement.clientHeight)}else{const e=Math.round(o)-t.clientHeight;e>0&&(o-=e)}return e===i.padding||(o-=parseFloat(r.paddingTop)||0,o-=parseFloat(r.paddingBottom)||0),o}(t,e)}function m(t){return t?.constructor===Object}function w(t,e=i.border){const o={left:0,top:0};if(p(t))return o;if(d(t))return o.left+=t.scrollX||0,o.top+=t.scrollY||0,o;const r=t.ownerDocument.defaultView;r&&(o.left+=r.scrollX||0,o.top+=r.scrollY||0);const l=t.getBoundingClientRect();if(o.left+=l.left,o.top+=l.top,e===i.border)return o;const c=n(t);return e===i.margin?(o.left-=Math.max(0,parseFloat(c.marginLeft)||0),o.top-=Math.max(0,parseFloat(c.marginTop)||0),o):(o.left+=parseFloat(c.borderLeftWidth)||0,o.top+=parseFloat(c.borderTopWidth)||0,e===i.scroll||e===i.padding||(o.left+=parseFloat(c.paddingLeft)||0,o.top+=parseFloat(c.paddingTop)||0),o)}function b(t,e){const n=m(t)?{left:t.left,top:t.top}:Array.isArray(t)?w(...t):w(t);if(e&&!p(e)){const t=m(e)?e:Array.isArray(e)?w(e[0],e[1]):w(e);n.left-=t.left,n.top-=t.top}return n}function x(t,e){let n=0,o=0;m(t)?(n=t.width,o=t.height):Array.isArray(t)?(n=h(...t),o=g(...t)):(n=h(t),o=g(t));const i=b(t,e);return{width:n,height:o,...i,right:i.left+n,bottom:i.top+o}}function y(t){return m(t)?t:x(t)}t.getContainingBlock=u,t.getDistance=function(t,e){return function(t,e){if(function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}(t,e))return null;const n=t.left+t.width,o=t.top+t.height,i=e.left+e.width,r=e.top+e.height;return n<e.left?o<e.top?s(n,o,e.left,e.top):t.top>r?s(n,t.top,e.left,r):e.left-n:t.left>i?o<e.top?s(t.left,o,i,e.top):t.top>r?s(t.left,t.top,i,r):t.left-i:o<e.top?e.top-o:t.top-r}(y(t),y(e))},t.getHeight=g,t.getIntersection=function(t,...e){const n={...y(t),right:0,bottom:0};for(const t of e){const e=y(t),o=Math.max(n.left,e.left),i=Math.min(n.left+n.width,e.left+e.width);if(i<=o)return null;const r=Math.max(n.top,e.top),l=Math.min(n.top+n.height,e.height+e.top);if(l<=r)return null;n.left=o,n.top=r,n.width=i-o,n.height=l-r}return n.right=n.left+n.width,n.bottom=n.top+n.height,n},t.getOffset=b,t.getOffsetContainer=function(t,e={}){const o=n(t),{display:i}=o;if("none"===i||"contents"===i)return null;const r=e.position||n(t).position,{skipDisplayNone:l}=e;switch(r){case"relative":return t;case"fixed":return u(t,{position:r,skipDisplayNone:l});case"absolute":{const e=u(t,{position:r,skipDisplayNone:l});return d(e)?t.ownerDocument:e}default:return null}},t.getOverflow=function(t,e){const n=y(t),o=y(e);return{left:n.left-o.left,right:o.left+o.width-(n.left+n.width),top:n.top-o.top,bottom:o.top+o.height-(n.top+n.height)}},t.getRect=x,t.getWidth=h}));