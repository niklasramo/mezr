!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).mezr={})}(this,(function(t){"use strict";const e=new WeakMap;function n(t,n){if(n)return window.getComputedStyle(t,n);let r=e.get(t)?.deref();return r||(r=window.getComputedStyle(t,null),e.set(t,new WeakRef(r))),r}const r=!!("undefined"!=typeof window&&void 0!==window.document&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")),o={content:"content",padding:"padding",scrollbar:"scrollbar",border:"border",margin:"margin"},i={[o.content]:!1,[o.padding]:!1,[o.scrollbar]:!0,[o.border]:!0,[o.margin]:!0},a=new Set(["auto","scroll"]),l=(()=>{try{return window.navigator.userAgentData.brands.some((({brand:t})=>"Chromium"===t))}catch(t){return!1}})();function f(t){switch(n(t).display){case"none":return null;case"inline":case"contents":return!1;default:return!0}}function u(t){const e=n(t);if(!r){const{filter:t}=e;if(t&&"none"!==t)return!0;const{backdropFilter:n}=e;if(n&&"none"!==n)return!0;const{willChange:r}=e;if(r&&(r.indexOf("filter")>-1||r.indexOf("backdrop-filter")>-1))return!0}const o=f(t);if(!o)return o;const{transform:i}=e;if(i&&"none"!==i)return!0;const{perspective:a}=e;if(a&&"none"!==a)return!0;const{contentVisibility:l}=e;if(l&&"auto"===l)return!0;const{contain:u}=e;if(u&&("strict"===u||"content"===u||u.indexOf("paint")>-1||u.indexOf("layout")>-1))return!0;const{willChange:c}=e;return!(!c||!(c.indexOf("transform")>-1||c.indexOf("perspective")>-1||c.indexOf("contain")>-1))||!!(r&&c&&c.indexOf("filter")>-1)}function c(t){return"static"!==n(t).position||u(t)}function s(t){return t instanceof HTMLHtmlElement}function d(t,e={}){if(s(t))return t.ownerDocument.defaultView;const r=e.position||n(t).position,{skipDisplayNone:o}=e;switch(r){case"static":case"relative":case"sticky":case"-webkit-sticky":{let e=t.parentElement;for(;e;){const t=f(e);if(t)return e;if(null===t&&!o)return null;e=e.parentElement}return t.ownerDocument.documentElement}case"absolute":case"fixed":{const e="fixed"===r;let n=t.parentElement;for(;n;){const t=e?u(n):c(n);if(!0===t)return n;if(null===t&&!o)return null;n=n.parentElement}return t.ownerDocument.defaultView}default:return null}}function p(t,e,n,r){return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2))}function h(t){return t instanceof Window}function g(t){return t instanceof Document}function m(t,e,r){if(r<=0)return 0;if(l){const r=n(t,"::-webkit-scrollbar"),o=parseFloat(("x"===e?r.height:r.width)||"");if(!Number.isNaN(o)&&!Number.isInteger(o)){const t=Math.round(o);return t<o?t:t-.5}}return r}function w(t,e=o.border){return h(t)?function(t,e=!1){if(e)return t.innerWidth;const{innerWidth:n,document:r}=t,{documentElement:o}=r,{clientWidth:i}=o;return n-m(o,"y",innerHeight-i)}(t,i[e]):g(t)?function({documentElement:t}){return Math.max(t.scrollWidth,t.clientWidth,t.getBoundingClientRect().width)}(t):function(t,e=o.border){let{width:r}=t.getBoundingClientRect();if(e===o.border)return r;const i=n(t);return e===o.margin?(r+=Math.max(0,parseFloat(i.marginLeft)||0),r+=Math.max(0,parseFloat(i.marginRight)||0),r):(r-=parseFloat(i.borderLeftWidth)||0,r-=parseFloat(i.borderRightWidth)||0,e===o.scrollbar||(!s(t)&&a.has(i.overflowY)&&(r-=m(t,"y",Math.round(r)-t.clientWidth)),e===o.padding||(r-=parseFloat(i.paddingLeft)||0,r-=parseFloat(i.paddingRight)||0)),r)}(t,e)}function b(t,e=o.border){return h(t)?function(t,e=!1){if(e)return t.innerHeight;const{innerHeight:n,document:r}=t,{documentElement:o}=r,{clientHeight:i}=o;return n-m(o,"x",n-i)}(t,i[e]):g(t)?function({documentElement:t}){return Math.max(t.scrollHeight,t.clientHeight,t.getBoundingClientRect().height)}(t):function(t,e=o.border){let{height:r}=t.getBoundingClientRect();if(e===o.border)return r;const i=n(t);return e===o.margin?(r+=Math.max(0,parseFloat(i.marginTop)||0),r+=Math.max(0,parseFloat(i.marginBottom)||0),r):(r-=parseFloat(i.borderTopWidth)||0,r-=parseFloat(i.borderBottomWidth)||0,e===o.scrollbar||(!s(t)&&a.has(i.overflowX)&&(r-=m(t,"x",Math.round(r)-t.clientHeight)),e===o.padding||(r-=parseFloat(i.paddingTop)||0,r-=parseFloat(i.paddingBottom)||0)),r)}(t,e)}function x(t){return t?.constructor===Object}function y(t,e=o.border){const r={left:0,top:0};if(g(t))return r;if(h(t))return r.left+=t.scrollX||0,r.top+=t.scrollY||0,r;const i=t.ownerDocument.defaultView;i&&(r.left+=i.scrollX||0,r.top+=i.scrollY||0);const a=t.getBoundingClientRect();if(r.left+=a.left,r.top+=a.top,e===o.border)return r;const l=n(t);return e===o.margin?(r.left-=Math.max(0,parseFloat(l.marginLeft)||0),r.top-=Math.max(0,parseFloat(l.marginTop)||0),r):(r.left+=parseFloat(l.borderLeftWidth)||0,r.top+=parseFloat(l.borderTopWidth)||0,e===o.scrollbar||e===o.padding||(r.left+=parseFloat(l.paddingLeft)||0,r.top+=parseFloat(l.paddingTop)||0),r)}function F(t,e){const n=x(t)?{left:t.left,top:t.top}:Array.isArray(t)?y(...t):y(t);if(e&&!g(e)){const t=x(e)?e:Array.isArray(e)?y(e[0],e[1]):y(e);n.left-=t.left,n.top-=t.top}return n}function M(t,e){let n=0,r=0;x(t)?(n=t.width,r=t.height):Array.isArray(t)?(n=w(...t),r=b(...t)):(n=w(t),r=b(t));const o=F(t,e);return{width:n,height:r,...o,right:o.left+n,bottom:o.top+r}}function O(t){return x(t)?t:M(t)}t.getContainingBlock=d,t.getDistance=function(t,e){return function(t,e){if(function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}(t,e))return null;const n=t.left+t.width,r=t.top+t.height,o=e.left+e.width,i=e.top+e.height;return n<=e.left?r<=e.top?p(n,r,e.left,e.top):t.top>=i?p(n,t.top,e.left,i):e.left-n:t.left>=o?r<=e.top?p(t.left,r,o,e.top):t.top>=i?p(t.left,t.top,o,i):t.left-o:r<=e.top?e.top-r:t.top-i}(O(t),O(e))},t.getHeight=b,t.getIntersection=function(t,...e){const n={...O(t),right:0,bottom:0};for(const t of e){const e=O(t),r=Math.max(n.left,e.left),o=Math.min(n.left+n.width,e.left+e.width);if(o<=r)return null;const i=Math.max(n.top,e.top),a=Math.min(n.top+n.height,e.height+e.top);if(a<=i)return null;n.left=r,n.top=i,n.width=o-r,n.height=a-i}return n.right=n.left+n.width,n.bottom=n.top+n.height,n},t.getOffset=F,t.getOffsetContainer=function(t,e={}){const r=n(t),{display:o}=r;if("none"===o||"contents"===o)return null;const i=e.position||n(t).position,{skipDisplayNone:a}=e;switch(i){case"relative":return t;case"fixed":return d(t,{position:i,skipDisplayNone:a});case"absolute":{const e=d(t,{position:i,skipDisplayNone:a});return h(e)?t.ownerDocument:e}default:return null}},t.getOverflow=function(t,e){const n=O(t),r=O(e);return{left:r.left-n.left,right:n.left+n.width-(r.left+r.width),top:r.top-n.top,bottom:n.top+n.height-(r.top+r.height)}},t.getRect=M,t.getWidth=w}));