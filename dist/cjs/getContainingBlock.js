"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContainingBlock=void 0;const getStyle_js_1=require("./utils/getStyle.js"),isContainingBlockForFixedElement_js_1=require("./utils/isContainingBlockForFixedElement.js"),isContainingBlockForAbsoluteElement_js_1=require("./utils/isContainingBlockForAbsoluteElement.js"),isBlockElement_js_1=require("./utils/isBlockElement.js"),isDocumentElement_js_1=require("./utils/isDocumentElement.js");function getContainingBlock(e,t={}){if((0,isDocumentElement_js_1.isDocumentElement)(e))return e.ownerDocument.defaultView;const n=t.position||(0,getStyle_js_1.getStyle)(e).position,{skipDisplayNone:i,container:o}=t;switch(n){case"static":case"relative":case"sticky":case"-webkit-sticky":{let t=o||e.parentElement;for(;t;){const e=(0,isBlockElement_js_1.isBlockElement)(t);if(e)return t;if(null===e&&!i)return null;t=t.parentElement}return e.ownerDocument.documentElement}case"absolute":case"fixed":{const t="fixed"===n;let l=o||e.parentElement;for(;l;){const e=t?(0,isContainingBlockForFixedElement_js_1.isContainingBlockForFixedElement)(l):(0,isContainingBlockForAbsoluteElement_js_1.isContainingBlockForAbsoluteElement)(l);if(!0===e)return l;if(null===e&&!i)return null;l=l.parentElement}return e.ownerDocument.defaultView}default:return null}}exports.getContainingBlock=getContainingBlock;