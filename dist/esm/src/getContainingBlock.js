import{getStyle}from"./utils/getStyle.js";import{isContainingBlockForFixedElement}from"./utils/isContainingBlockForFixedElement.js";import{isContainingBlockForAbsoluteElement}from"./utils/isContainingBlockForAbsoluteElement.js";import{isBlockElement}from"./utils/isBlockElement.js";import{isDocumentElement}from"./utils/isDocumentElement.js";export function getContainingBlock(e,t){if(isDocumentElement(e))return e.ownerDocument.defaultView;switch(t||(t=getStyle(e).position),t){case"static":case"relative":case"sticky":case"-webkit-sticky":{let t=e.parentElement;for(;t;){const e=isBlockElement(t);if(!0===e)return t;if(void 0===e)return null;t=t.parentElement}return e.ownerDocument.documentElement}case"absolute":case"fixed":{const n="fixed"===t;let i=e.parentElement;for(;i;){const t=n?isContainingBlockForFixedElement(i):isContainingBlockForAbsoluteElement(i);if(!0===t)return e;if(void 0===t)return null;i=i.parentElement}return e.ownerDocument.defaultView}default:return null}}