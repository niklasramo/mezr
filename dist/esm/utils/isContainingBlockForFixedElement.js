import{IS_SAFARI}from"./constants.js";import{getStyle}from"./getStyle.js";import{isBlockElement}from"./isBlockElement.js";export function isContainingBlockForFixedElement(n){const t=getStyle(n);if(!IS_SAFARI){const{filter:n}=t;if(n&&"none"!==n)return!0;const{backdropFilter:e}=t;if(e&&"none"!==e)return!0;const{willChange:i}=t;if(i&&(i.indexOf("filter")>-1||i.indexOf("backdrop-filter")>-1))return!0}const e=isBlockElement(n);if(!e)return e;const{transform:i}=t;if(i&&"none"!==i)return!0;const{perspective:r}=t;if(r&&"none"!==r)return!0;const{contentVisibility:o}=t;if(o&&"auto"===o)return!0;const{contain:f}=t;if(f&&("strict"===f||"content"===f||f.indexOf("paint")>-1||f.indexOf("layout")>-1))return!0;const{willChange:c}=t;return!(!c||!(c.indexOf("transform")>-1||c.indexOf("perspective")>-1||c.indexOf("contain")>-1))||!!(IS_SAFARI&&c&&c.indexOf("filter")>-1)}