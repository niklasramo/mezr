import{BOX_EDGE,SCROLLABLE_OVERFLOWS}from"./constants.js";import{getStyle}from"./getStyle.js";import{isDocumentElement}from"./isDocumentElement.js";export function getElementWidth(t,e=BOX_EDGE.border){const a=getStyle(t);if((e===BOX_EDGE.content||e===BOX_EDGE.padding)&&"content-box"===a.boxSizing){let t=parseFloat(a.width)||0;return e===BOX_EDGE.content||(t+=parseFloat(a.paddingLeft)||0,t+=parseFloat(a.paddingRight)||0),t}let{width:o}=t.getBoundingClientRect();return e===BOX_EDGE.border?o:e===BOX_EDGE.margin?(o+=Math.max(0,parseFloat(a.marginLeft)||0),o+=Math.max(0,parseFloat(a.marginRight)||0),o):(o-=parseFloat(a.borderLeftWidth)||0,o-=parseFloat(a.borderRightWidth)||0,e===BOX_EDGE.scrollbar?o:(!isDocumentElement(t)&&SCROLLABLE_OVERFLOWS.has(a.overflowY)&&(o-=Math.max(0,Math.round(o)-t.clientWidth)),e===BOX_EDGE.padding||(o-=parseFloat(a.paddingLeft)||0,o-=parseFloat(a.paddingRight)||0),o))}