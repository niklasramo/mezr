import{BOX_AREA}from"./constants.js";import{getStyle}from"./getStyle.js";import{isDocumentElement}from"./isDocumentElement.js";import{getBcr}from"./bcr.js";export function getElementWidth(t,e="border"){let{width:r}=getBcr(t);if(e===BOX_AREA.border)return r;const n=getStyle(t);if(e===BOX_AREA.margin)return r+=Math.max(0,parseFloat(n.marginLeft)||0),r+=Math.max(0,parseFloat(n.marginRight)||0),r;const o=parseFloat(n.borderLeftWidth)||0,i=parseFloat(n.borderRightWidth)||0;if(r-=o,r-=i,e===BOX_AREA.scroll)return r;if(isDocumentElement(t)){const e=t.ownerDocument,n=e.defaultView;n&&(r-=n.innerWidth-e.documentElement.clientWidth)}else r-=Math.max(0,Math.round(r)-Math.round(t.clientWidth+o+i));return e===BOX_AREA.padding||(r-=parseFloat(n.paddingLeft)||0,r-=parseFloat(n.paddingRight)||0),r}