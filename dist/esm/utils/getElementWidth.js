import{BOX_EDGE}from"./constants.js";import{getStyle}from"./getStyle.js";import{isDocumentElement}from"./isDocumentElement.js";export function getElementWidth(t,e=BOX_EDGE.border){let{width:n}=t.getBoundingClientRect();if(e===BOX_EDGE.border)return n;const r=getStyle(t);if(e===BOX_EDGE.margin)return n+=Math.max(0,parseFloat(r.marginLeft)||0),n+=Math.max(0,parseFloat(r.marginRight)||0),n;if(n-=parseFloat(r.borderLeftWidth)||0,n-=parseFloat(r.borderRightWidth)||0,e===BOX_EDGE.scroll)return n;if(isDocumentElement(t)){const e=t.ownerDocument,r=e.defaultView;r&&(n-=r.innerWidth-e.documentElement.clientWidth)}else{const e=Math.round(n)-t.clientWidth;e>0&&(n-=e)}return e===BOX_EDGE.padding||(n-=parseFloat(r.paddingLeft)||0,n-=parseFloat(r.paddingRight)||0),n}