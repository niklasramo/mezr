import{BOX_EDGE,SCROLLABLE_OVERFLOWS}from"./constants.js";import{getStyle}from"./getStyle.js";import{isDocumentElement}from"./isDocumentElement.js";function getScrollbarWidth(t,e,r){return isDocumentElement(t)?0:SCROLLABLE_OVERFLOWS.has(e.overflowY)?Math.max(0,Math.round(r)-t.clientWidth):0}export function getElementWidth(t,e=BOX_EDGE.border){let{width:r}=t.getBoundingClientRect();if(e===BOX_EDGE.border)return r;const o=getStyle(t);return e===BOX_EDGE.margin?(r+=Math.max(0,parseFloat(o.marginLeft)||0),r+=Math.max(0,parseFloat(o.marginRight)||0),r):(r-=parseFloat(o.borderLeftWidth)||0,r-=parseFloat(o.borderRightWidth)||0,e===BOX_EDGE.scroll?r:(r-=getScrollbarWidth(t,o,r),e===BOX_EDGE.padding||(r-=parseFloat(o.paddingLeft)||0,r-=parseFloat(o.paddingRight)||0),r))}