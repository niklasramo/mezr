import{BOX_AREA}from"./constants.js";import{getStyle}from"./getStyle.js";import{isDocumentElement}from"./isDocumentElement.js";import{getBcr}from"./bcr.js";export function getElementHeight(t,e="border"){let{height:o}=getBcr(t);if(e===BOX_AREA.border)return o;const r=getStyle(t);if(e===BOX_AREA.margin)return o+=Math.max(0,parseFloat(r.marginTop)||0),o+=Math.max(0,parseFloat(r.marginBottom)||0),o;const n=parseFloat(r.borderTopWidth)||0,i=parseFloat(r.borderBottomWidth)||0;if(o-=n,o-=i,e===BOX_AREA.scroll)return o;if(isDocumentElement(t)){const e=t.ownerDocument,r=e.defaultView;r&&(o-=r.innerHeight-e.documentElement.clientHeight)}else o-=Math.max(0,Math.round(o)-Math.round(t.clientHeight+n+i));return e===BOX_AREA.padding||(o-=parseFloat(r.paddingTop)||0,o-=parseFloat(r.paddingBottom)||0),o}